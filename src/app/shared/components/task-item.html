<md-list-item class="task-item1">

    <md-list>
        <h3 md-subheader>{{ task.title }}</h3>

        <!--<div *ngIf="subtasksVisible">-->
            <!--<task-item *ngFor="let subtask of task.subtasks;let isLastItem = last" [is-last]="isLastItem" [task]="subtask"></task-item>-->
<!--        </div>-->
    </md-list>
    <!--<div class="task-header">
        <span class="task-title" [class.hidden]="isEditMode" (click)="startEdit();titleInput.focus()">{{ task.title }}</span>
        <form (ngSubmit)="confirmEdit()" [class.form-visible]="isEditMode" [class.form-hidden]="!isEditMode">
            <input type="text" placeholder="Task title" ref-titleInput [(ngModel)]="newTitle" (keyup)="onTitleEditKeyUp($event)" (blur)="confirmEdit()" />
        </form>
        <div class="task-actions2">
            <md-button (click)="subtasksVisible = !subtasksVisible" *ngIf="task.subtasks && task.subtasks.length > 0">{{ subtasksVisible ? 'Hide' : 'Show' }} Subtasks ({{ task.subtasks.length }})</md-button>
            <md-button (click)="newTaskVisible = !newTaskVisible">{{ newTaskVisible ? 'Cancel' : 'New' }}</md-button>
        </div>
    </div>
    <md-list *ngIf="subtasksVisible">
        <md-list-item>
            <task-item *ngFor="let subtask of task.subtasks;let isLastItem = last" [is-last]="isLastItem" [task]="subtask"></task-item>
        </md-list-item>
    </md-list>
    <new-task-item *ngIf="newTaskVisible" [(parent-item)]="task"></new-task-item>-->
</md-list-item>